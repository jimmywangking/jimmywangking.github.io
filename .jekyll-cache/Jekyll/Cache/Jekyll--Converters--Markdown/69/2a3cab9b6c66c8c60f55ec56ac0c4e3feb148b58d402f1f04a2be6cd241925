I"“<p>springcloudå½“å‰ä¸»æµçš„å¾®æœåŠ¡æ¡†æ¶,åŸºäºæ ¸å¿ƒæ€æƒ³æ˜¯çº¦å®šå¤§äºé…ç½®çš„springboot,ä½¿å…¶åœ¨åˆæœŸæ­å»ºåŠå¼€å‘è¿‡ç¨‹éƒ½å˜å¾—ç®€å•æ˜“ç”¨,å¼€å‘äººå‘˜åªéœ€è¦å°‘é‡çš„ä»£ç å°±å¯ä»¥å®ç°ç‰¹å®šæœåŠ¡.
springcloudåŒ…å«ä¸€å¥—ç»„ä»¶,è´¯ç©¿æ•´ä¸ªå¾®æœåŠ¡ç”Ÿå‘½å‘¨æœŸ,ä»æœåŠ¡æ³¨å†Œ,æœåŠ¡å‘ç°,æœåŠ¡è¿‡æ»¤,æœåŠ¡åˆ†å‘,æœåŠ¡è°ƒç”¨,æœåŠ¡å®¹é”™,æœåŠ¡è¿½è¸ª,æœ‰äº†å…¨å®¶æ¡¶å†æ­é…ä¸€å¥—å‰ç«¯æ¡†æ¶,å¯ä»¥è®©ç³»ç»Ÿæ›´åŠ é«˜å†…èšä½è€¦åˆå¯æ‰©å±•.</p>

<p>å®ç°ç»„ä»¶åŠŸèƒ½ä¸‰éƒ¨æ›²:
ç¬¬ä¸€æ­¥:å¼•å…¥mavenä¾èµ–
ç¬¬äºŒæ­¥:å¢åŠ ç»„ä»¶é…ç½®(æ”¯æŒyaml,properties,jsonç­‰)
ç¬¬ä¸‰æ­¥:å¢åŠ ç±»åŠæ–¹æ³•æ³¨è§£</p>

<p>springcloudå…«å¤§ç»„ä»¶åŸºæœ¬ä½¿ç”¨:
1.eureka æœåŠ¡æ³¨å†Œä¸­å¿ƒ
1.1 æœåŠ¡å™¨ç«¯å¼•å…¥spring-cloud-starter-netflix-eureka-server,å®¢æˆ·ç«¯å¼•å…¥spring-cloud-starter-netflix-eureka-client
1.2 resourcesç›®å½•ä¸‹bootstrap.ymlæ–‡ä»¶å¢åŠ config:
eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/
1.3 æœåŠ¡å™¨ç«¯ä¸»ç±»åŠ æ³¨è§£@EnableEurekaServer,å®¢æˆ·ç«¯ä¸»ç±»åŠ æ³¨è§£@EnableDiscoveryClient
å¤‡æ³¨:å¯åŠ¨å¤šä¸ªeureka serveräº’ç›¸æ³¨å†Œå¯ä»¥å®ç°é«˜å¯ç”¨
2.ribbon è´Ÿè½½å‡è¡¡
2.1 eurekaé»˜è®¤ä¾èµ–æˆ–spring-cloud-netflix-ribbon
2.2 å¢åŠ æ³¨è§£@LoadBalancedåˆ°restfulæ–¹æ³•ä¸Š
3.feign å£°æ˜å¼æœåŠ¡è°ƒç”¨
3.1 å¼•å…¥ä¾èµ– spring-cloud-starter-openfeign
3.2 ä¸»ç±»å¢åŠ @EnableFeignClients(basePackages = â€œ$basePackagesâ€)
3.3 restfulç±»çš„è°ƒç”¨å¢åŠ æ‰«æç›®æ ‡åŒ… @ComponentScan(basePackages = â€œ$basePackagesâ€)
4.stream æ¶ˆæ¯é©±åŠ¨
4.1 å¼•å…¥ä¾èµ–spring-cloud-starter-stream-rabbit
4.2 å¢åŠ é…ç½®
spring:
  cloud:
    stream:
      bindings:
        myMessage:
          group: 
          content-type: application/json
4.3 StreamClient å¢åŠ @Input(StreamClient.INPUT)  @Output(StreamClient.OUTPUT)æ³¨è§£çš„æ–¹æ³•
4.4 StreamReceiverç±»å¢åŠ @EnableBinding(StreamClient.class)æ³¨è§£
5.config é…ç½®ä¸­å¿ƒ
5.1 å¼•å…¥ä¾èµ– spring-cloud-config-server
5.2 å¢åŠ config repositoryåœ°å€ç”¨æˆ·åå’Œå¯†ç 
spring:
  cloud:
    config:
      server:
        git:
5.3 ä¸»ç±»åŠ æ³¨è§£@EnableConfigServer
å¤‡æ³¨:1.ä»“åº“ä¿å­˜ service-profile.ymlçš„é…ç½®æ–‡ä»¶.  2.æ”¯æŒgitä»“åº“è§¦å‘rabbitmqåé€šè¿‡amqpåŠ¨æ€æ›´æ–°æœåŠ¡é…ç½®. 
6.zuul APIç½‘å…³
6.1 å¼•å…¥ä¾èµ–spring-cloud-starter-netflix-zuul
6.2 å¢åŠ routingé…ç½®ç”¨äºè·¯ç”±å’Œè¿‡æ»¤
zuul:
  sensitive-headers:
  routes:
    product: /myProduct/**
  ignored-patterns:
    - /product/product/ListForOrder</p>
<h1 id="myproduct">myProduct:</h1>
<h1 id="path-myproduct">path: /myProduct/**</h1>
<h1 id="serviceid-product">serviceId: product</h1>
<p>6.3 ä¸»ç±»å¢åŠ @EnableZuulProxyæ³¨è§£
6.4 ä½œç”¨æ–¹æ³•å¢åŠ æ³¨è§£    @RefreshScope  @ConfigurationProperties(â€œzuulâ€)
7.hystrix æœåŠ¡å®¹é”™
7.1 å¼•å…¥ä¾èµ–spring-cloud-starter-netflix-hystrix
7.2 å¼•å…¥é…ç½®æœåŠ¡é™çº§/ç†”æ–­é…ç½®
hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 5000
    getProductInfoList:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 5000
feign:
  hystrix:
    enabled: true
7.3 ä¸»ç±»ä½¿ç”¨EnableCircuitBreakeræ³¨è§£
7.4 ç†”æ–­ç±»å¢åŠ @DefaultProperties(defaultFallback = â€œdefaultFallbackâ€)æ³¨è§£å¢åŠ é»˜è®¤fallbackæ–¹æ³•
7.5 ç†”æ–­æ–¹æ³•å‰å¢åŠ @HystrixCommand() å¯å¢åŠ å¤šç§é…ç½®
å¤‡æ³¨ hystrix-dashboard ç”¨äºæŸ¥çœ‹æœåŠ¡çŠ¶æ€ ä¾èµ–ä¸ºspring-cloud-starter-netflix-hystrix-dashboard
8.sleuth é“¾è·¯ç›‘æ§
8.1 å¼•å…¥ä¾èµ–spring-cloud-starter-sleuth
8.2 å¢åŠ é…ç½®
spring:
  sleuth:
    sampler:</p>
<h1 id="percentage-1">percentage: 1</h1>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  probability: 1 logging:   level:
org.springframework.cloud.openfeign: debug 9.zipkin å®æ—¶æ•°æ®è¿½è¸ª,é…åˆsleuthä½¿ç”¨ --éspringcloudç»„ä»¶ 9.1 å¼•å…¥ä¾èµ–spring-cloud-sleuth-zipkin 9.2 å¢åŠ é…ç½® spring:   zipkin:
base-url: http://localhost:9411
sender:
  type: web
</code></pre></div></div>
:ET